[{"/home/hansen/workspace/spotify-app/client/src/App.js":"1","/home/hansen/workspace/spotify-app/client/src/index.js":"2","/home/hansen/workspace/spotify-app/client/src/utils/index.js":"3","/home/hansen/workspace/spotify-app/client/src/context/AuthContext.js":"4","/home/hansen/workspace/spotify-app/client/src/context/SpotifyContext.js":"5","/home/hansen/workspace/spotify-app/client/src/pages/Login.js":"6","/home/hansen/workspace/spotify-app/client/src/pages/Home.js":"7","/home/hansen/workspace/spotify-app/client/src/components/Profile.js":"8"},{"size":755,"mtime":1607422038920,"results":"9","hashOfConfig":"10"},{"size":410,"mtime":1606732383300,"results":"11","hashOfConfig":"10"},{"size":249,"mtime":1607336476760,"results":"12","hashOfConfig":"10"},{"size":970,"mtime":1607402992730,"results":"13","hashOfConfig":"10"},{"size":812,"mtime":1607404398040,"results":"14","hashOfConfig":"10"},{"size":1007,"mtime":1607425244420,"results":"15","hashOfConfig":"10"},{"size":1419,"mtime":1607427328900,"results":"16","hashOfConfig":"10"},{"size":806,"mtime":1607427945880,"results":"17","hashOfConfig":"10"},{"filePath":"18","messages":"19","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"mkhvkl",{"filePath":"20","messages":"21","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"22","messages":"23","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"24","messages":"25","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"26"},{"filePath":"27","messages":"28","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"29"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"32"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"35","messages":"36","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"37"},"/home/hansen/workspace/spotify-app/client/src/App.js",["38","39","40","41"],"/home/hansen/workspace/spotify-app/client/src/index.js",[],"/home/hansen/workspace/spotify-app/client/src/utils/index.js",[],"/home/hansen/workspace/spotify-app/client/src/context/AuthContext.js",["42"],"import React, { useState, createContext } from 'react';\nimport { getHashParams } from '../utils/index';\n\nexport const AuthContext = createContext();\n\nexport const AuthProvider = (props) => {\n  const [accessToken, setAccessToken] = useState('');\n\n  const setLocalAccessToken = (accessToken) => {\n    if (accessToken) {\n      window.localStorage.setItem('access_token', accessToken);\n    } else {\n      console.log('Token expired or invalid');\n    }\n  };\n\n  const getLocalAccessToken = () => {\n    let accessToken;\n    if (window.localStorage.getItem('access_token')) {\n      accessToken = window.localStorage.getItem('access_token');\n    }\n\n    return accessToken;\n  };\n\n  const logout = () => {\n    window.localStorage.removeItem('access_token');\n    window.location.reload();\n  };\n\n  return (\n    <AuthContext.Provider value={{ setLocalAccessToken, getLocalAccessToken, setAccessToken, accessToken, logout }}>\n      {props.children}\n    </AuthContext.Provider>\n  );\n};\n","/home/hansen/workspace/spotify-app/client/src/context/SpotifyContext.js",["43","44","45"],"import React, { useState, createContext, useContext } from 'react';\nimport axios from 'axios';\nimport { getHashParams } from '../utils/index';\nimport { AuthContext } from './AuthContext';\n\nexport const SpotifyContext = createContext();\n\nexport const SpotifyProvider = (props) => {\n  const token = window.localStorage.getItem('access_token');\n  const { getLocalAccessToken } = useContext(AuthContext);\n\n  let tokenConfig = {\n    headers: {\n      Authorization: 'Bearer ' + getLocalAccessToken(),\n    },\n  };\n\n  const getUser = async () => {\n    try {\n      const res = await axios.get('https://api.spotify.com/v1/me', tokenConfig);\n      return res;\n    } catch {\n      console.log('Token invalid');\n    }\n  };\n\n  return <SpotifyContext.Provider value={{ getUser }}>{props.children}</SpotifyContext.Provider>;\n};\n","/home/hansen/workspace/spotify-app/client/src/pages/Login.js",["46","47"],"import './Login.scss';\nimport React, { useEffect, useContext, useState } from 'react';\nimport { getHashParams } from '../utils/index';\nimport { AuthContext } from '../context/AuthContext';\nimport { Redirect } from 'react-router-dom';\nconst Login = () => {\n  const { setLocalAccessToken, getLocalAccessToken, setAccessToken } = useContext(AuthContext);\n\n  const { access_token } = getHashParams();\n\n  const [isTokenExist, setIsTokenExist] = useState(false);\n\n  useEffect(() => {\n    //store access token on local storage upon inital login\n    if (access_token) {\n      setLocalAccessToken(access_token);\n    }\n\n    //check if token has existed\n    if (getLocalAccessToken()) {\n      setIsTokenExist(true);\n    }\n  }, [isTokenExist]);\n\n  return isTokenExist ? (\n    <Redirect to='/home' />\n  ) : (\n    <div className='login-container'>\n      <h1>Hey there,</h1>\n      <a className='login-btn' href='http://localhost:5000/login'>\n        Login with Spotify\n      </a>\n    </div>\n  );\n};\n\nexport default Login;\n","/home/hansen/workspace/spotify-app/client/src/pages/Home.js",["48","49"],"/home/hansen/workspace/spotify-app/client/src/components/Profile.js",["50","51","52","53","54","55","56"],"import './Profile.scss';\nimport React, { useState, useEffect, useContext } from 'react';\nimport { AuthContext } from '../context/AuthContext';\nimport { SpotifyContext } from '../context/SpotifyContext';\nimport axios from 'axios';\nimport { Redirect } from 'react-router-dom';\n\nconst Profile = ({ profileData }) => {\n  const { fullName, img } = profileData;\n  const { logout, getLocalAccessToken } = useContext(AuthContext);\n  return (\n    <div className='profile-container'>\n      <img src={img} alt='picture' />\n      <h2>{fullName}</h2>\n      {/* <h2>{userProfile.fullName}</h2>\n      <img src={userProfile.img} alt='' />\n      <button onClick={logout}>Log out</button> */}\n      <button onClick={logout} className='logout-btn'>\n        Log Out\n      </button>\n    </div>\n  );\n};\n\nexport default Profile;\n",{"ruleId":"57","severity":1,"message":"58","line":2,"column":17,"nodeType":"59","messageId":"60","endLine":2,"endColumn":25},{"ruleId":"57","severity":1,"message":"61","line":2,"column":27,"nodeType":"59","messageId":"60","endLine":2,"endColumn":36},{"ruleId":"57","severity":1,"message":"62","line":2,"column":38,"nodeType":"59","messageId":"60","endLine":2,"endColumn":48},{"ruleId":"57","severity":1,"message":"63","line":6,"column":24,"nodeType":"59","messageId":"60","endLine":6,"endColumn":35},{"ruleId":"57","severity":1,"message":"64","line":2,"column":10,"nodeType":"59","messageId":"60","endLine":2,"endColumn":23},{"ruleId":"57","severity":1,"message":"58","line":1,"column":17,"nodeType":"59","messageId":"60","endLine":1,"endColumn":25},{"ruleId":"57","severity":1,"message":"64","line":3,"column":10,"nodeType":"59","messageId":"60","endLine":3,"endColumn":23},{"ruleId":"57","severity":1,"message":"65","line":9,"column":9,"nodeType":"59","messageId":"60","endLine":9,"endColumn":14},{"ruleId":"57","severity":1,"message":"66","line":7,"column":53,"nodeType":"59","messageId":"60","endLine":7,"endColumn":67},{"ruleId":"67","severity":1,"message":"68","line":23,"column":6,"nodeType":"69","endLine":23,"endColumn":20,"suggestions":"70"},{"ruleId":"57","severity":1,"message":"71","line":10,"column":11,"nodeType":"59","messageId":"60","endLine":10,"endColumn":17},{"ruleId":"67","severity":1,"message":"72","line":22,"column":6,"nodeType":"69","endLine":22,"endColumn":50,"suggestions":"73"},{"ruleId":"57","severity":1,"message":"58","line":2,"column":17,"nodeType":"59","messageId":"60","endLine":2,"endColumn":25},{"ruleId":"57","severity":1,"message":"61","line":2,"column":27,"nodeType":"59","messageId":"60","endLine":2,"endColumn":36},{"ruleId":"57","severity":1,"message":"74","line":4,"column":10,"nodeType":"59","messageId":"60","endLine":4,"endColumn":24},{"ruleId":"57","severity":1,"message":"75","line":5,"column":8,"nodeType":"59","messageId":"60","endLine":5,"endColumn":13},{"ruleId":"57","severity":1,"message":"76","line":6,"column":10,"nodeType":"59","messageId":"60","endLine":6,"endColumn":18},{"ruleId":"57","severity":1,"message":"77","line":10,"column":19,"nodeType":"59","messageId":"60","endLine":10,"endColumn":38},{"ruleId":"78","severity":1,"message":"79","line":13,"column":7,"nodeType":"80","endLine":13,"endColumn":38},"no-unused-vars","'useState' is defined but never used.","Identifier","unusedVar","'useEffect' is defined but never used.","'useContext' is defined but never used.","'AuthContext' is defined but never used.","'getHashParams' is defined but never used.","'token' is assigned a value but never used.","'setAccessToken' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'access_token', 'getLocalAccessToken', and 'setLocalAccessToken'. Either include them or remove the dependency array.","ArrayExpression",["81"],"'logout' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'getUsername'. Either include it or remove the dependency array.",["82"],"'SpotifyContext' is defined but never used.","'axios' is defined but never used.","'Redirect' is defined but never used.","'getLocalAccessToken' is assigned a value but never used.","jsx-a11y/img-redundant-alt","Redundant alt attribute. Screen-readers already announce `img` tags as an image. You donâ€™t need to use the words `image`, `photo,` or `picture` (or any specified custom words) in the alt prop.","JSXOpeningElement",{"desc":"83","fix":"84"},{"desc":"85","fix":"86"},"Update the dependencies array to be: [access_token, getLocalAccessToken, isTokenExist, setLocalAccessToken]",{"range":"87","text":"88"},"Update the dependencies array to be: [isTokenExist, getUser, getLocalAccessToken, getUsername]",{"range":"89","text":"90"},[716,730],"[access_token, getLocalAccessToken, isTokenExist, setLocalAccessToken]",[726,770],"[isTokenExist, getUser, getLocalAccessToken, getUsername]"]